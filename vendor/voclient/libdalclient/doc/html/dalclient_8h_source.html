<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DAL Client Library: dalclient.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>dalclient.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  DALCLIENT.H -- Global include file for the DALClient Interface.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> *  The DALClient library is usable directly, or as a component of VOClient.</span>
<a name="l00005"></a>00005 <span class="comment"> *  It requires the VOClient VOTable library (hence also expat for XML</span>
<a name="l00006"></a>00006 <span class="comment"> *  processing), and libCurl for URL processing.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *  D.Tody, NRAO/VAO, January 2014</span>
<a name="l00009"></a>00009 <span class="comment"> */</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;sys/file.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="comment">/*</span>
<a name="l00020"></a>00020 <span class="comment"> * Function prototypes</span>
<a name="l00021"></a>00021 <span class="comment"> * -----------------------------</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 <span class="preprocessor">#ifdef __STDC__</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#else</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="keywordtype">char</span>    *getenv();
<a name="l00028"></a>00028 <span class="preprocessor">#endif</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00033"></a>00033 <span class="preprocessor">#endif</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">/*</span>
<a name="l00037"></a>00037 <span class="comment"> * Interface Definitions.</span>
<a name="l00038"></a>00038 <span class="comment"> * -----------------------------</span>
<a name="l00039"></a>00039 <span class="comment"> */</span>
<a name="l00040"></a>00040 <span class="preprocessor">#ifdef OK</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#undef OK</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">#define OK  0</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>
<a name="l00045"></a>00045 <span class="preprocessor">#ifdef ERR</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#undef ERR</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#define ERR 1</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="preprocessor">#ifdef TRUE</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#undef TRUE</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#define TRUE    1</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="preprocessor">#ifdef FALSE</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#undef FALSE</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#define FALSE   0</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="preprocessor">#define DAL_INFO        1   </span><span class="comment">/* VOTable object types */</span>
<a name="l00061"></a>00061 <span class="preprocessor">#define DAL_PARAM       2</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor">#define DAL_FIELD       3</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span>
<a name="l00064"></a>00064 <span class="preprocessor">#define DAL_ID          1   </span><span class="comment">/* Field attributes */</span>
<a name="l00065"></a>00065 <span class="preprocessor">#define DAL_NAME        2</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span><span class="preprocessor">#define DAL_UTYPE       3</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="preprocessor">#define DAL_UCD         4</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span><span class="preprocessor">#define DAL_UNIT        5</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span><span class="preprocessor">#define DAL_XTYPE       6</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span><span class="preprocessor">#define DAL_DATATYPE        7</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="preprocessor">#define DAL_ARRAYSIZE       8</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span><span class="preprocessor">#define DAL_WIDTH       9</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span><span class="preprocessor">#define DAL_PRECISION       10</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span><span class="preprocessor">#define DAL_VALUE       11</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>
<a name="l00076"></a>00076 <span class="preprocessor">#ifndef _VOCLIENT_LIB_</span>
<a name="l00077"></a>00077 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">int</span> DAL;            <span class="comment">/* DAL function types */</span>
<a name="l00078"></a>00078 <span class="keyword">typedef</span> <span class="keywordtype">int</span> POS;
<a name="l00079"></a>00079 <span class="keyword">typedef</span> <span class="keywordtype">int</span> Query;
<a name="l00080"></a>00080 <span class="keyword">typedef</span> <span class="keywordtype">int</span> QResponse;
<a name="l00081"></a>00081 <span class="keyword">typedef</span> <span class="keywordtype">int</span> QRecord;
<a name="l00082"></a>00082 <span class="keyword">typedef</span> <span class="keywordtype">int</span> handle_t;
<a name="l00083"></a>00083 <span class="preprocessor">#endif</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 <span class="comment">/*</span>
<a name="l00087"></a>00087 <span class="comment"> * DAL error status and error codes.</span>
<a name="l00088"></a>00088 <span class="comment"> * -----------------------------</span>
<a name="l00089"></a>00089 <span class="comment"> */</span>
<a name="l00090"></a>00090 <span class="preprocessor">#define DAL_OK          0</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span><span class="preprocessor">#define DAL_ERROR       -9999999        </span>
<a name="l00092"></a>00092 <span class="preprocessor"></span>
<a name="l00093"></a>00093 <span class="preprocessor">#define DAL_BADHANDLE           100     </span><span class="comment">/* Invalid object handle */</span>
<a name="l00094"></a>00094 <span class="preprocessor">#define DAL_MEMALLOCFAIL        101     </span><span class="comment">/* Cannot allocate memory */</span>
<a name="l00095"></a>00095 <span class="preprocessor">#define DAL_VLLINIT             102     </span><span class="comment">/* Cannot initialize List object */</span>
<a name="l00096"></a>00096 <span class="preprocessor">#define DAL_VHTINIT             103     </span><span class="comment">/* Cannot init Hash Table object */</span>
<a name="l00097"></a>00097 <span class="preprocessor">#define DAL_NOBASEURL           104     </span><span class="comment">/* Service baseurl not specified */</span>
<a name="l00098"></a>00098 <span class="preprocessor">#define DAL_NOPROTOCOL          105     </span><span class="comment">/* Service protocol not specified */</span>
<a name="l00099"></a>00099 <span class="preprocessor">#define DAL_NOVERSION           106     </span><span class="comment">/* Service version not specified */</span>
<a name="l00100"></a>00100 <span class="preprocessor">#define DAL_PARAMNOTFOUND       107     </span><span class="comment">/* Query parameter not found */</span>
<a name="l00101"></a>00101 <span class="preprocessor">#define DAL_PARAMAPPEND         108     </span><span class="comment">/* Cannot add param */</span>
<a name="l00102"></a>00102 <span class="preprocessor">#define DAL_PARAMHASH           109     </span><span class="comment">/* Hash entry for param not found */</span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="preprocessor">#define DAL_FORMQUERYURL        120     </span><span class="comment">/* Error composing query URL */</span>
<a name="l00105"></a>00105 <span class="preprocessor">#define DAL_EXECUTEQUERY        121     </span><span class="comment">/* Error executing query to service</span>
<a name="l00106"></a>00106 <span class="comment">*/</span>
<a name="l00107"></a>00107 <span class="preprocessor">#define DAL_INITQUERYRESPONSE   122     </span><span class="comment">/* Error compiling query response */</span>
<a name="l00108"></a>00108 <span class="preprocessor">#define DAL_QUERYNOTEXEC        123     </span><span class="comment">/* No query response */</span>
<a name="l00109"></a>00109 <span class="preprocessor">#define DAL_VOTABLEPARSE        124     </span><span class="comment">/* Error parsing votable */</span>
<a name="l00110"></a>00110 <span class="preprocessor">#define DAL_VOQUERYERROR        125     </span><span class="comment">/* Service returned STATUS=ERROR */</span>
<a name="l00111"></a>00111 <span class="preprocessor">#define DAL_VOTABLENORESOURCE   126     </span><span class="comment">/* VOTable resource elem not found */</span>
<a name="l00112"></a>00112 <span class="preprocessor">#define DAL_VOTABLENOTABLE      127     </span><span class="comment">/* VOTable table elem not found */</span>
<a name="l00113"></a>00113 <span class="preprocessor">#define DAL_VOTABLENODATA       128     </span><span class="comment">/* VOTable data elem not found */</span>
<a name="l00114"></a>00114 <span class="preprocessor">#define DAL_VOTABLENOTDATA      129     </span><span class="comment">/* VOTable tdata elem not found */</span>
<a name="l00115"></a>00115 <span class="preprocessor">#define DAL_CMEMINIT            130     </span><span class="comment">/* CMEM init failure */</span>
<a name="l00116"></a>00116 <span class="preprocessor">#define DAL_QRINFOERR           131     </span><span class="comment">/* Error accessing INFO */</span>
<a name="l00117"></a>00117 <span class="preprocessor">#define DAL_QRFIELDERR          132     </span><span class="comment">/* Error accessing FIELD */</span>
<a name="l00118"></a>00118 <span class="preprocessor">#define DAL_ATTRNOTFOUND        133     </span><span class="comment">/* Attribute not found */</span>
<a name="l00119"></a>00119 <span class="preprocessor">#define DAL_FIELDNOTFOUND       134     </span><span class="comment">/* Field not found */</span>
<a name="l00120"></a>00120 <span class="preprocessor">#define DAL_RECORDNOTFOUND      135     </span><span class="comment">/* Record not found */</span>
<a name="l00121"></a>00121 <span class="preprocessor">#define DAL_PROPNOTFOUND        136     </span><span class="comment">/* Property not found */</span>
<a name="l00122"></a>00122 <span class="preprocessor">#define DAL_INVALIDINTPROP      137     </span><span class="comment">/* Cannot convert property to int */</span>
<a name="l00123"></a>00123 <span class="preprocessor">#define DAL_INVALIDFLOATPROP    138     </span><span class="comment">/* Cannot convert property to float</span>
<a name="l00124"></a>00124 <span class="comment">*/</span>
<a name="l00125"></a>00125 <span class="preprocessor">#define DAL_INDEXOUTOFBOUNDS    139     </span><span class="comment">/* Field index out of bounds */</span>
<a name="l00126"></a>00126 <span class="preprocessor">#define DAL_INVALIDINTFIELD     140     </span><span class="comment">/* Cannot convert field to int */</span>
<a name="l00127"></a>00127 <span class="preprocessor">#define DAL_INVALIDFLOATFIELD   141     </span><span class="comment">/* Cannot convert field to float */</span>
<a name="l00128"></a>00128 <span class="preprocessor">#define DAL_INVALIDURL          142     </span><span class="comment">/* Invalid or NULL URL */</span>
<a name="l00129"></a>00129 <span class="preprocessor">#define DAL_INVALIDFNAME        143     </span><span class="comment">/* Invalid or NULL filename */</span>
<a name="l00130"></a>00130 <span class="preprocessor">#define DAL_CANNOTOPENFILE      144     </span><span class="comment">/* Cannot open or create file */</span>
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="preprocessor">#define DAL_CURLINITERR         151     </span><span class="comment">/* Cannot initialize Curl subsystem</span>
<a name="l00133"></a>00133 <span class="comment">*/</span>
<a name="l00134"></a>00134 <span class="preprocessor">#define DAL_CURLEXECERR         152     </span><span class="comment">/* Error executing Curl */</span>
<a name="l00135"></a>00135 <span class="preprocessor">#define DAL_HOSTNOCONNECT       153     </span><span class="comment">/* Couldn't connect to host */</span>
<a name="l00136"></a>00136 <span class="preprocessor">#define DAL_HTTPERROR           154     </span><span class="comment">/* HTTP error from service */</span>
<a name="l00137"></a>00137 <span class="preprocessor">#define DAL_HTTPTIMEOUT         155     </span><span class="comment">/* HTTP request timedout */</span>
<a name="l00138"></a>00138 <span class="preprocessor">#define DAL_HTTPREDIRLOOP       156     </span><span class="comment">/* HTTP redirect loop */</span>
<a name="l00139"></a>00139 <span class="preprocessor">#define DAL_FILETOOLARGE        157     </span><span class="comment">/* file too large */</span>
<a name="l00140"></a>00140 <span class="preprocessor">#define DAL_CURLERRBASE         1000    </span><span class="comment">/* For pass-through of curl stat */</span>
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 <span class="comment">/*</span>
<a name="l00144"></a>00144 <span class="comment"> * DALClient Private Definitions</span>
<a name="l00145"></a>00145 <span class="comment"> * -----------------------------</span>
<a name="l00146"></a>00146 <span class="comment"> */</span>
<a name="l00147"></a>00147 <span class="preprocessor">#ifdef _DALCLIENT_LIB_</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span>
<a name="l00149"></a>00149 <span class="preprocessor">#include "<a class="code" href="vocList_8h.html">vocList.h</a>"</span>
<a name="l00150"></a>00150 <span class="preprocessor">#include "vocHash.h"</span>
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="preprocessor">#define DEF_RUNID       "DALClient"</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a>00154 <span class="preprocessor">#define SZ_FNAME            256</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span><span class="preprocessor">#define SZ_URL              2048</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="preprocessor">#define SZ_ERRMSG               80</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span><span class="preprocessor">#define SZ_NAME             64  </span><span class="comment">/* Generic name of something    */</span>
<a name="l00158"></a>00158 <span class="preprocessor">#define SZ_KEY              256 </span><span class="comment">/* Max size of a hash key   */</span>
<a name="l00159"></a>00159 <span class="preprocessor">#define SZ_PNAMEHASH        64  </span><span class="comment">/* Parameter name hash table    */</span>
<a name="l00160"></a>00160 <span class="preprocessor">#define SZ_FNAMEHASH        256 </span><span class="comment">/* Field name hash table    */</span>
<a name="l00161"></a>00161 <span class="preprocessor">#define SZ_VALSTR       1024    </span><span class="comment">/* Parameter/property value */</span>
<a name="l00162"></a>00162 <span class="preprocessor">#define MAX_PROP        64  </span><span class="comment">/* Max Properties       */</span>
<a name="l00163"></a>00163 <span class="preprocessor">#define MAX_COLS        200 </span><span class="comment">/* Max table columns        */</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="preprocessor">#define DAL_CONN        1   </span><span class="comment">/* DAL Connection Types     */</span>
<a name="l00166"></a>00166 <span class="preprocessor">#define CONE_CONN       2   </span><span class="comment">/* Simple Cone Search       */</span>
<a name="l00167"></a>00167 <span class="preprocessor">#define SIAP_CONN       3   </span><span class="comment">/* Simple Image Access      */</span>
<a name="l00168"></a>00168 <span class="preprocessor">#define SSAP_CONN       4   </span><span class="comment">/* Simple Spectral Access   */</span>
<a name="l00169"></a>00169 <span class="preprocessor">#define SLAP_CONN       5   </span><span class="comment">/* Simple Line Access       */</span>
<a name="l00170"></a>00170 <span class="preprocessor">#define STAP_CONN       6   </span><span class="comment">/* Synch TAP Access     */</span>
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="preprocessor">#define DAL_QueryData           1       </span><span class="comment">/* QueryData request            */</span>
<a name="l00173"></a>00173 <span class="preprocessor">#define DAL_AccessData          2       </span><span class="comment">/* AccessData request           */</span>
<a name="l00174"></a>00174 <span class="preprocessor">#define DAL_GetMetadata         3       </span><span class="comment">/* GetMetadata request          */</span>
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 <span class="comment">/* Service context.</span>
<a name="l00177"></a>00177 <span class="comment"> */</span>
<a name="l00178"></a>00178 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalConn_t {
<a name="l00179"></a>00179     DAL     dal_h;          <span class="comment">/* Connection handle */</span>
<a name="l00180"></a>00180     <span class="keywordtype">int</span>     type;           <span class="comment">/* Service type code */</span>
<a name="l00181"></a>00181     <span class="keywordtype">char</span>    protocol[SZ_NAME];  <span class="comment">/* Service protocol name */</span>
<a name="l00182"></a>00182     <span class="keywordtype">char</span>    version[SZ_NAME];   <span class="comment">/* Service version */</span>
<a name="l00183"></a>00183     <span class="keywordtype">char</span>    baseurl[SZ_URL];    <span class="comment">/* BaseURL for service */</span>
<a name="l00184"></a>00184     <span class="keywordtype">int</span>     context;        <span class="comment">/* Handle context */</span>
<a name="l00185"></a>00185     <span class="keywordtype">int</span>     status;         <span class="comment">/* Error status */</span>
<a name="l00186"></a>00186     <span class="keywordtype">int</span>     debug;          <span class="comment">/* Debug level (0=off) */</span>
<a name="l00187"></a>00187     <span class="keywordtype">int</span>     errcode;        <span class="comment">/* Error code */</span>
<a name="l00188"></a>00188     <span class="keywordtype">char</span>    errmsg[SZ_ERRMSG];  <span class="comment">/* Error message */</span>
<a name="l00189"></a>00189 } dalConn_t;
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 <span class="comment">/* ParameterSet used to build a query against a service.</span>
<a name="l00193"></a>00193 <span class="comment"> */</span>
<a name="l00194"></a>00194 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalQuery_t {
<a name="l00195"></a>00195     Query   query_h;        <span class="comment">/* Query object (max 1) */</span>
<a name="l00196"></a>00196     QResponse   qr_h;           <span class="comment">/* Last QResponse object */</span>
<a name="l00197"></a>00197     dalConn_t   *dal;           <span class="comment">/* Service context */</span>
<a name="l00198"></a>00198     <span class="keywordtype">int</span>     request;        <span class="comment">/* Type of request */</span>
<a name="l00199"></a>00199     vocList_t   *params;        <span class="comment">/* Linked list of parameters. */</span>
<a name="l00200"></a>00200     vocHash_t   *pnames;        <span class="comment">/* Hashed by param name */</span>
<a name="l00201"></a>00201 } dalQuery_t;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="comment">/* Parameter object.</span>
<a name="l00205"></a>00205 <span class="comment"> */</span>
<a name="l00206"></a>00206 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalParam_t {
<a name="l00207"></a>00207     <span class="keywordtype">char</span>    name[SZ_NAME];      <span class="comment">/* Parameter name. */</span>
<a name="l00208"></a>00208     <span class="keywordtype">char</span>    value[SZ_VALSTR];   <span class="comment">/* Parameter value. */</span>
<a name="l00209"></a>00209     <span class="keywordtype">long</span>    index;          <span class="comment">/* List index back-reference */</span>
<a name="l00210"></a>00210     <span class="keyword">struct  </span>dalParam_t *next;   <span class="comment">/* Next instance of this param. */</span>
<a name="l00211"></a>00211 } dalParam_t;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="comment">/* Spatial position or region.  This is generic and is translated</span>
<a name="l00215"></a>00215 <span class="comment"> * into whatever is required to query an individual service.</span>
<a name="l00216"></a>00216 <span class="comment"> */</span>
<a name="l00217"></a>00217 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalPos_t {
<a name="l00218"></a>00218     <span class="keywordtype">char</span>    objname[SZ_NAME];   <span class="comment">/* Object name, if any */</span>
<a name="l00219"></a>00219     <span class="keywordtype">char</span>    frame[SZ_NAME];     <span class="comment">/* Coordinate system or frame */</span>
<a name="l00220"></a>00220     <span class="keywordtype">double</span>  c1, c2;         <span class="comment">/* e.g., ra,dec or long,lat */</span>
<a name="l00221"></a>00221     <span class="keywordtype">double</span>  size1, size2;       <span class="comment">/* width of region along either axis */</span>
<a name="l00222"></a>00222 } dalPos_t;
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="comment">/* Query response object.  This is a generic table query result set object,</span>
<a name="l00226"></a>00226 <span class="comment"> * optimized for efficient runtime access.  All table metadata is cached in</span>
<a name="l00227"></a>00227 <span class="comment"> * the descriptor and hashed for efficient access.  Table data (VOTable FIELD</span>
<a name="l00228"></a>00228 <span class="comment"> * elements) remains in the VOTable and is accessed via the VOTable API.</span>
<a name="l00229"></a>00229 <span class="comment"> * Data model properties are computed for each row of the table and stored</span>
<a name="l00230"></a>00230 <span class="comment"> * in a hash table, one per table row.</span>
<a name="l00231"></a>00231 <span class="comment"> */</span>
<a name="l00232"></a>00232 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalQR_t {
<a name="l00233"></a>00233     QResponse   qr_h;           <span class="comment">/* Query response handle */</span>
<a name="l00234"></a>00234     dalQuery_t  *query;         <span class="comment">/* Query context */</span>
<a name="l00235"></a>00235     <span class="keywordtype">char</span>    *votable;       <span class="comment">/* Cached votable QR text */</span>
<a name="l00236"></a>00236     <span class="keywordtype">char</span>    *delimited;     <span class="comment">/* Cached delimited QR text */</span>
<a name="l00237"></a>00237     <span class="keywordtype">int</span>     nrows;          <span class="comment">/* Number of table rows */</span>
<a name="l00238"></a>00238     <span class="keywordtype">int</span>     ncols;          <span class="comment">/* Number of table columns */</span>
<a name="l00239"></a>00239     vocList_t   *infos;         <span class="comment">/* List of INFO elements */</span>
<a name="l00240"></a>00240     vocList_t   *fields;        <span class="comment">/* List of PARAMs and FIELDs */</span>
<a name="l00241"></a>00241     vocList_t   *properties;        <span class="comment">/* List of object properties */</span>
<a name="l00242"></a>00242     vocHash_t   *hash_prop;     <span class="comment">/* Hash by UCD attribute */</span>
<a name="l00243"></a>00243     vocHash_t   *hash_id;       <span class="comment">/* Hash by ID attribute */</span>
<a name="l00244"></a>00244     vocHash_t   *hash_name;     <span class="comment">/* Hash by NAME attribute */</span>
<a name="l00245"></a>00245     vocHash_t   *hash_utype;        <span class="comment">/* Hash by UTYPE attribute */</span>
<a name="l00246"></a>00246     vocHash_t   *hash_ucd;      <span class="comment">/* Hash by UCD attribute */</span>
<a name="l00247"></a>00247     <span class="keyword">struct  </span>dalRecord_t *rows;  <span class="comment">/* Record storage */</span>
<a name="l00248"></a>00248     <span class="keywordtype">void</span>    *cmem;          <span class="comment">/* Temp storage for string data */</span>
<a name="l00249"></a>00249 } dalQR_t;
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="comment">/* Table Record object.</span>
<a name="l00253"></a>00253 <span class="comment"> */</span>
<a name="l00254"></a>00254 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalRecord_t {
<a name="l00255"></a>00255     dalQR_t *qr;            <span class="comment">/* Query response */</span>
<a name="l00256"></a>00256     <span class="keywordtype">int</span>     recnum;         <span class="comment">/* Record number  */</span>
<a name="l00257"></a>00257     <span class="keywordtype">char</span>    *pdata[MAX_PROP];   <span class="comment">/* property values */</span>
<a name="l00258"></a>00258     <span class="keywordtype">char</span>    *cdata[MAX_COLS];   <span class="comment">/* column data */</span>
<a name="l00259"></a>00259 } dalRecord_t;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 <span class="comment">/* Table Property object.  Properties are abstract properties of the object</span>
<a name="l00263"></a>00263 <span class="comment"> * stored in a table or table row.  Properties provide a level of abstraction</span>
<a name="l00264"></a>00264 <span class="comment"> * one level higher than the underlying VO data model, allowing the major</span>
<a name="l00265"></a>00265 <span class="comment"> * properties of the object to be accessed by simple fixed names, hiding</span>
<a name="l00266"></a>00266 <span class="comment"> * differences that may occur in versions of the underlying data model</span>
<a name="l00267"></a>00267 <span class="comment"> * (Utypes for example may vary with different VO data model versions).</span>
<a name="l00268"></a>00268 <span class="comment"> */</span>
<a name="l00269"></a>00269 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalProp_t {
<a name="l00270"></a>00270     <span class="keywordtype">int</span>     type;           <span class="comment">/* PARAM (fixed) or FIELD (per row) */</span>
<a name="l00271"></a>00271     <span class="keywordtype">long</span>    index;          <span class="comment">/* List index back-reference */</span>
<a name="l00272"></a>00272     <span class="keywordtype">long</span>    colnum;         <span class="comment">/* Column number if per-row value */</span>
<a name="l00273"></a>00273     <span class="keywordtype">char</span>    name[SZ_NAME];      <span class="comment">/* NAME attribute */</span>
<a name="l00274"></a>00274     <span class="keywordtype">char</span>    value[SZ_VALSTR];   <span class="comment">/* Value for PARAM or INFO */</span>
<a name="l00275"></a>00275 } dalProp_t;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 
<a name="l00278"></a>00278 <span class="comment">/* Table Field object (VOTable FIELD or PARAM).  INFO elements may also</span>
<a name="l00279"></a>00279 <span class="comment"> * be stored as a dalField.  The value is stored for a PARAM (or INFO),</span>
<a name="l00280"></a>00280 <span class="comment"> * but not for a FIELD.</span>
<a name="l00281"></a>00281 <span class="comment"> */</span>
<a name="l00282"></a>00282 <span class="keyword">typedef</span> <span class="keyword">struct </span>dalField_t {
<a name="l00283"></a>00283     <span class="keywordtype">int</span>     type;           <span class="comment">/* FIELD, PARAM, INFO */</span>
<a name="l00284"></a>00284     <span class="keywordtype">long</span>    index;          <span class="comment">/* List index back-reference */</span>
<a name="l00285"></a>00285     <span class="keywordtype">int</span>     colnum;         <span class="comment">/* Table column, if FIELD */</span>
<a name="l00286"></a>00286     <span class="keywordtype">char</span>    <span class="keywordtype">id</span>[SZ_NAME];        <span class="comment">/* ID attribute */</span>
<a name="l00287"></a>00287     <span class="keywordtype">char</span>    name[SZ_NAME];      <span class="comment">/* NAME attribute */</span>
<a name="l00288"></a>00288     <span class="keywordtype">char</span>    utype[SZ_KEY];      <span class="comment">/* UTYPE attribute */</span>
<a name="l00289"></a>00289     <span class="keywordtype">char</span>    ucd[SZ_NAME];       <span class="comment">/* UCD attribute */</span>
<a name="l00290"></a>00290     <span class="keywordtype">char</span>    unit[SZ_NAME];      <span class="comment">/* Unit attribute */</span>
<a name="l00291"></a>00291     <span class="keywordtype">char</span>    xtype[SZ_NAME];     <span class="comment">/* Xtype attribute */</span>
<a name="l00292"></a>00292     <span class="keywordtype">char</span>    datatype[SZ_NAME];  <span class="comment">/* Datatype attribute */</span>
<a name="l00293"></a>00293     <span class="keywordtype">char</span>    arraysize[SZ_NAME]; <span class="comment">/* Arraysize attribute */</span>
<a name="l00294"></a>00294     <span class="keywordtype">char</span>    width[SZ_NAME];     <span class="comment">/* Width attribute */</span>
<a name="l00295"></a>00295     <span class="keywordtype">char</span>    precision[SZ_NAME]; <span class="comment">/* Precision attribute */</span>
<a name="l00296"></a>00296     <span class="keywordtype">char</span>    value[SZ_VALSTR];   <span class="comment">/* Value for PARAM or INFO */</span>
<a name="l00297"></a>00297 } dalField_t;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 
<a name="l00300"></a>00300 <span class="preprocessor">#define DAL_DEBUG   (dal-&gt;debug &gt; 0)</span>
<a name="l00301"></a>00301 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00302"></a>00302 <span class="preprocessor"></span>
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 <span class="comment">/*</span>
<a name="l00305"></a>00305 <span class="comment"> * Public DAL Interface functions.</span>
<a name="l00306"></a>00306 <span class="comment"> * -----------------------------</span>
<a name="l00307"></a>00307 <span class="comment"> */</span>
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="comment">/* dalQuery.c */</span>
<a name="l00310"></a>00310 DAL   dal_openConnection (<span class="keywordtype">char</span> *baseurl, <span class="keywordtype">char</span> *protocol, <span class="keywordtype">char</span> *version);
<a name="l00311"></a>00311 DAL   dal_openConeConnection (<span class="keywordtype">char</span> *baseurl, <span class="keywordtype">char</span> *version);
<a name="l00312"></a>00312 DAL   dal_openSiapConnection (<span class="keywordtype">char</span> *baseurl, <span class="keywordtype">char</span> *version);
<a name="l00313"></a>00313 DAL   dal_openSsapConnection (<span class="keywordtype">char</span> *baseurl, <span class="keywordtype">char</span> *version);
<a name="l00314"></a>00314 <span class="keywordtype">void</span>  dal_closeConnection (DAL dal_h);
<a name="l00315"></a>00315 
<a name="l00316"></a>00316 <span class="keywordtype">void</span>  dal_setBaseUrl (DAL dal_h, <span class="keywordtype">char</span> *base_url);
<a name="l00317"></a>00317 <span class="keywordtype">char</span> *dal_getBaseUrl (DAL dal_h);
<a name="l00318"></a>00318 
<a name="l00319"></a>00319 Query dal_getQuery (DAL dal_h);
<a name="l00320"></a>00320 <span class="keywordtype">void</span>  dal_closeQuery (Query query_h);
<a name="l00321"></a>00321 Query dal_getConeQuery (DAL dal_h, <span class="keywordtype">double</span> ra, <span class="keywordtype">double</span> dec, <span class="keywordtype">double</span> sr);
<a name="l00322"></a>00322 Query dal_getSiapQuery (DAL dal_h, <span class="keywordtype">double</span> ra, <span class="keywordtype">double</span> dec, <span class="keywordtype">double</span> ra_size,
<a name="l00323"></a>00323             <span class="keywordtype">double</span> dec_size, <span class="keywordtype">char</span> *format);
<a name="l00324"></a>00324 Query dal_getSsapQuery (DAL dal_h, <span class="keywordtype">double</span> ra, <span class="keywordtype">double</span> dec, <span class="keywordtype">double</span> size,
<a name="l00325"></a>00325             <span class="keywordtype">char</span> *band, <span class="keywordtype">char</span> *time, <span class="keywordtype">char</span> *format);
<a name="l00326"></a>00326 <span class="keywordtype">int</span>   dal_getParamCount (Query query_h);
<a name="l00327"></a>00327 <span class="keywordtype">char</span> *dal_getParamName (Query query_h, <span class="keywordtype">int</span> index);
<a name="l00328"></a>00328 <span class="keywordtype">int</span>   dal_addIntParam (Query query_h, <span class="keywordtype">char</span> *pname, <span class="keywordtype">long</span> value);
<a name="l00329"></a>00329 <span class="keywordtype">int</span>   dal_addFloatParam (Query query_h, <span class="keywordtype">char</span> *pname, <span class="keywordtype">double</span> value);
<a name="l00330"></a>00330 <span class="keywordtype">int</span>   dal_addStringParam (Query query_h, <span class="keywordtype">char</span> *pname, <span class="keywordtype">char</span> *value);
<a name="l00331"></a>00331 <span class="keywordtype">int</span>   dal_setParam (Query query_h, <span class="keywordtype">char</span> *pname, <span class="keywordtype">char</span> *value);
<a name="l00332"></a>00332 <span class="keywordtype">char</span> *dal_getParam (Query query_h, <span class="keywordtype">char</span> *pname, <span class="keywordtype">int</span> index);
<a name="l00333"></a>00333 <span class="keywordtype">int</span>   dal_delParam (Query query_h, <span class="keywordtype">char</span> *pname);
<a name="l00334"></a>00334 <span class="keywordtype">char</span> *dal_getQueryURL (Query query_h);
<a name="l00335"></a>00335 <span class="keywordtype">int</span>   dal_getError (DAL dal_h);
<a name="l00336"></a>00336 <span class="keywordtype">char</span> *dal_getErrorMsg (DAL dal_h);
<a name="l00337"></a>00337 <span class="keywordtype">void</span>  dal_clearError (DAL dal_h);
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 <span class="comment">/* dalQExec.c */</span>
<a name="l00340"></a>00340 QResponse dal_executeQuery (Query query_h);
<a name="l00341"></a>00341 QResponse dal_getQueryResponse (Query query_h);
<a name="l00342"></a>00342 QResponse dal_initQueryResponse (DAL dal_h, <span class="keywordtype">char</span> *votable, <span class="keywordtype">int</span> resource,
<a name="l00343"></a>00343         <span class="keywordtype">int</span> table);
<a name="l00344"></a>00344 <span class="keywordtype">void</span>    dal_closeQueryResponse (Query query_h);
<a name="l00345"></a>00345 <span class="keywordtype">int</span>     dal_accessData (Query query_h, <span class="keywordtype">char</span> *fname);
<a name="l00346"></a>00346 <span class="keywordtype">char</span>   *dal_executeVOTable (Query query_h);
<a name="l00347"></a>00347 <span class="keywordtype">char</span>   *dal_executeCSV (Query query_h);
<a name="l00348"></a>00348 <span class="keywordtype">char</span>   *dal_executeTSV (Query query_h);
<a name="l00349"></a>00349 <span class="keywordtype">char</span>   *dal_executeASCII (Query query_h);
<a name="l00350"></a>00350 <span class="keywordtype">char</span>   *dal_executeDelimited (Query query_h, <span class="keywordtype">char</span> delim);
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <span class="comment">/* dalQResp.c */</span>
<a name="l00353"></a>00353 <span class="keywordtype">int</span>    dal_getRecordCount (QResponse qr_h);
<a name="l00354"></a>00354 <span class="keywordtype">int</span>    dal_getColumnCount (QResponse qr_h);
<a name="l00355"></a>00355 <span class="keywordtype">int</span>    dal_getInfoCount (QResponse qr_h);
<a name="l00356"></a>00356 <span class="keywordtype">int</span>    dal_getFieldCount (QResponse qr_h);
<a name="l00357"></a>00357 <span class="keywordtype">int</span>    dal_getPropCount (QResponse qr_h);
<a name="l00358"></a>00358 <span class="keywordtype">char</span>  *dal_getPropName (QResponse qr_h, <span class="keywordtype">int</span> index);
<a name="l00359"></a>00359 <span class="keywordtype">char</span>  *dal_getInfoAttr (QResponse qr_h, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> attr);
<a name="l00360"></a>00360 <span class="keywordtype">char</span>  *dal_getFieldAttr (QResponse qr_h, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> attr);
<a name="l00361"></a>00361 <span class="keywordtype">int</span>    dal_getFieldIndex (QResponse qr_h, <span class="keywordtype">char</span> *key, <span class="keywordtype">int</span> attr);
<a name="l00362"></a>00362 QRecord dal_getRecord (QResponse qr_h, <span class="keywordtype">int</span> recnum);
<a name="l00363"></a>00363 <span class="keywordtype">void</span>   dal_releaseRecord  (QRecord rec_h);
<a name="l00364"></a>00364 <span class="keywordtype">int</span>    dal_getIntProperty (QRecord rec_h, <span class="keywordtype">char</span> *property);
<a name="l00365"></a>00365 <span class="keywordtype">double</span> dal_getFloatProperty (QRecord rec_h, <span class="keywordtype">char</span> *property);
<a name="l00366"></a>00366 <span class="keywordtype">char</span>  *dal_getStringProperty (QRecord rec_h, <span class="keywordtype">char</span> *property);
<a name="l00367"></a>00367 <span class="keywordtype">int</span>    dal_getIntField (QRecord rec_h, <span class="keywordtype">int</span> index);
<a name="l00368"></a>00368 <span class="keywordtype">double</span> dal_getFloatField (QRecord rec_h, <span class="keywordtype">int</span> index);
<a name="l00369"></a>00369 <span class="keywordtype">char</span>  *dal_getStringField (QRecord rec_h, <span class="keywordtype">int</span> index);
<a name="l00370"></a>00370 <span class="keywordtype">int</span>    dal_getIntColumn (QResponse qr_h, <span class="keywordtype">int</span> index, <span class="keywordtype">long</span> *iptr);
<a name="l00371"></a>00371 <span class="keywordtype">int</span>    dal_getFloatColumn (QResponse qr_h, <span class="keywordtype">int</span> index, <span class="keywordtype">double</span> *dptr);
<a name="l00372"></a>00372 <span class="keywordtype">int</span>    dal_getStringColumn (QResponse qr_h, <span class="keywordtype">int</span> index, <span class="keywordtype">char</span> **sptr);
<a name="l00373"></a>00373 <span class="keywordtype">int</span>    dal_getDataset (QRecord rec_h, <span class="keywordtype">char</span> *acref, <span class="keywordtype">char</span> *fname);
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 <span class="comment">/* dalPOS.c */</span>
<a name="l00376"></a>00376 <span class="preprocessor">#ifndef _VOCLIENT_LIB_</span>
<a name="l00377"></a>00377 <span class="preprocessor"></span>POS    dal_setPos  (DAL dal_h, <span class="keywordtype">double</span> c1, <span class="keywordtype">double</span> c2, <span class="keywordtype">double</span> size, <span class="keywordtype">char</span> *frame);
<a name="l00378"></a>00378 <span class="preprocessor">#else</span>
<a name="l00379"></a>00379 <span class="preprocessor"></span><span class="keywordtype">int</span>    dal_setPos  (DAL dal_h, <span class="keywordtype">double</span> c1, <span class="keywordtype">double</span> c2, <span class="keywordtype">double</span> size, <span class="keywordtype">char</span> *frame);
<a name="l00380"></a>00380 <span class="preprocessor">#endif</span>
<a name="l00381"></a>00381 <span class="preprocessor"></span>
<a name="l00382"></a>00382 
<a name="l00383"></a>00383 <span class="comment">/*</span>
<a name="l00384"></a>00384 <span class="comment"> *  Private routines.</span>
<a name="l00385"></a>00385 <span class="comment"> * -----------------------------</span>
<a name="l00386"></a>00386 <span class="comment"> */</span>
<a name="l00387"></a>00387 <span class="preprocessor">#ifdef _DALCLIENT_LIB_</span>
<a name="l00388"></a>00388 <span class="preprocessor"></span>
<a name="l00389"></a>00389 <span class="comment">/* dalQuery.c */</span>
<a name="l00390"></a>00390 <span class="keywordtype">int</span>   <a class="code" href="dalQuery_8c.html#e0708e2a6ca72c22c8d5aec42e3eea56">dal_error</a> (dalConn_t *dal, <span class="keywordtype">int</span> errcode);
<a name="l00391"></a>00391 <span class="keywordtype">void</span> *<a class="code" href="dalQuery_8c.html#c7a9ae9bd250b14f1e43552a1bcb5a82">dal_nError</a> (dalConn_t *dal, <span class="keywordtype">int</span> errcode);
<a name="l00392"></a>00392 <span class="keywordtype">int</span>   <a class="code" href="dalQuery_8c.html#270da81a2191e86e0f01a24c0d2acd0a">dal_qError</a> (dalQuery_t *query, <span class="keywordtype">int</span> errcode);
<a name="l00393"></a>00393 <span class="keywordtype">int</span>   <a class="code" href="dalQuery_8c.html#3e73a387cd144d587cc0886375a5db1f">dal_qrError</a> (dalQR_t *qr, <span class="keywordtype">int</span> errcode);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395 <span class="comment">/* dalQResp.c */</span>
<a name="l00396"></a>00396 dalProp_t *vut_addProperty  (dalQR_t *qr, <span class="keywordtype">char</span> *propname, <span class="keywordtype">char</span> *value, <span class="keywordtype">int</span> type);
<a name="l00397"></a>00397 dalProp_t *vut_setProperty  (QRecord rec_h, <span class="keywordtype">char</span> *propname, <span class="keywordtype">char</span> *value);
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 <span class="comment">/* dalSCSP.c */</span>
<a name="l00400"></a>00400 <span class="keywordtype">char</span> *scsp_getQueryURL  (dalQuery_t *query);
<a name="l00401"></a>00401 <span class="keywordtype">void</span>  scsp_initProperties  (dalQR_t *qr);
<a name="l00402"></a>00402 
<a name="l00403"></a>00403 <span class="comment">/* dalSIAP.c */</span>
<a name="l00404"></a>00404 <span class="keywordtype">char</span> *siap_getQueryURL  (dalQuery_t *query);
<a name="l00405"></a>00405 <span class="keywordtype">void</span>  siap_initProperties  (dalQR_t *qr);
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 <span class="comment">/* dalSSAP.c */</span>
<a name="l00408"></a>00408 <span class="keywordtype">char</span> *ssap_getQueryURL  (dalQuery_t *query);
<a name="l00409"></a>00409 <span class="keywordtype">void</span>  ssap_initProperties  (dalQR_t *qr);
<a name="l00410"></a>00410 
<a name="l00411"></a>00411 <span class="comment">/* svrHandle.c */</span>
<a name="l00412"></a>00412 <span class="keywordtype">void</span>  <a class="code" href="svrHandle_8c.html#2830c3a33d71f99aa5478ad468f8a747" title="Initialize the handles structure.">svr_initHandles</a> (<span class="keywordtype">void</span>);
<a name="l00413"></a>00413 <span class="keywordtype">void</span>  <a class="code" href="svrHandle_8c.html#d257115fe5578cfb71989229211c3d0b" title="Reset the handles structure.">svr_resetHandles</a> (<span class="keywordtype">void</span>);
<a name="l00414"></a>00414 <span class="keywordtype">int</span>   <a class="code" href="svrHandle_8c.html#549848ab6efc99d8d41f6d64eaa16130" title="Get a new handle context.">svr_newHandleContext</a> (<span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> size);
<a name="l00415"></a>00415 <span class="keywordtype">void</span>  <a class="code" href="svrHandle_8c.html#63ae175ef0af630f86a3458de79c315f" title="Close a handle context.">svr_closeHandleContext</a> (<span class="keywordtype">int</span> context);
<a name="l00416"></a>00416 handle_t svr_newHandle (<span class="keywordtype">int</span> context, <span class="keywordtype">void</span> *ptr);
<a name="l00417"></a>00417 <span class="keywordtype">void</span>  <a class="code" href="svrHandle_8c.html#2d745c019c35cb8c87a6b46f5d93722e" title="Free the handle for later re-use.">svr_freeHandle</a> (handle_t handle);
<a name="l00418"></a>00418 <span class="keywordtype">void</span> *<a class="code" href="svrHandle_8c.html#6fd0d3e0136d1be3fdcb6617ca2fdaca" title="Convert a handle to a pointer.">svr_H2P</a> (handle_t handle);
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 <span class="comment">/* vocHash.c */</span>
<a name="l00421"></a>00421 vocHash_t *<a class="code" href="vocHash_8c.html#72f5c9ae81b2bb32bedc227977c6a16a">vht_init</a> (<span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span>  (*hash_func) (<span class="keywordtype">void</span> *, <span class="keywordtype">size_t</span>, <span class="keywordtype">size_t</span>),
<a name="l00422"></a>00422         <span class="keywordtype">char</span> *flag);
<a name="l00423"></a>00423 <span class="keywordtype">void</span>  *<a class="code" href="vocHash_8c.html#454d407896fb38300a92f0bea7958690">vht_search</a> (vocHash_t *hashtable, <span class="keywordtype">void</span> *key, <span class="keywordtype">size_t</span> keylen);
<a name="l00424"></a>00424 <span class="keywordtype">void</span>  *<a class="code" href="vocHash_8c.html#19acb7b4b7c49a9ec41ada76030d4cc3">vht_findKey</a> (vocHash_t *hashtable, <span class="keywordtype">char</span> *key);
<a name="l00425"></a>00425 <span class="keywordtype">void</span>  *<a class="code" href="vocHash_8c.html#8ab77ddf606c896c49a24649195bd5f8">vht_insert</a> (vocHash_t *hashtable, <span class="keywordtype">void</span> *key, <span class="keywordtype">size_t</span> keylen, <span class="keywordtype">void</span> *value, <span class="keywordtype">size_t</span> vallen);
<a name="l00426"></a>00426 <span class="keywordtype">void</span>  *<a class="code" href="vocHash_8c.html#c10bc3cb2dd322dd37d2bb5d217302d8">vht_insertKey</a> (vocHash_t *hashtable, <span class="keywordtype">char</span> *key, <span class="keywordtype">void</span> *value);
<a name="l00427"></a>00427 <span class="keywordtype">void</span>   <a class="code" href="vocHash_8c.html#f721af995025ccae1a6926bffb34afaa">vht_remove</a> (vocHash_t *hashtable, <span class="keywordtype">void</span> *key, <span class="keywordtype">size_t</span> keylen);
<a name="l00428"></a>00428 <span class="keywordtype">void</span>   <a class="code" href="vocHash_8c.html#35b14f27d17a2938929900f11c6bbf1f">vht_removeKey</a> (vocHash_t *hashtable, <span class="keywordtype">char</span> *key);
<a name="l00429"></a>00429 <span class="keywordtype">void</span>  *<a class="code" href="vocHash_8c.html#64fc15aa23fa3c7cdbe28c0a71261cca">vht_grow</a> (vocHash_t *old_ht, <span class="keywordtype">size_t</span> new_size);
<a name="l00430"></a>00430 <span class="keywordtype">void</span>   <a class="code" href="vocHash_8c.html#5ceef64033b2c50ee38c23c7387b5c88">vht_destroy</a> (vocHash_t *hashtable);
<a name="l00431"></a>00431 <span class="keywordtype">void</span>   <a class="code" href="vocHash_8c.html#46cfad5b28658ec453c870c236f3c851">vht_iter_init</a> (vocHash_t *hashtable, vocHash_iter_t *ii);
<a name="l00432"></a>00432 <span class="keywordtype">void</span>   <a class="code" href="vocHash_8c.html#a8ffaf0d3951b874415e9dc440608c4e">vht_iter_inc</a> (vocHash_iter_t *ii);
<a name="l00433"></a>00433 <span class="keywordtype">int</span>    <a class="code" href="vocHash_8c.html#80064b2dfe165ff8b51de78374af6218">vht_hash</a> (<span class="keywordtype">void</span> *key, <span class="keywordtype">size_t</span> keylen, <span class="keywordtype">size_t</span> hashtab_size);
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 <span class="comment">/* vocList.c */</span>
<a name="l00436"></a>00436 vocList_t *<a class="code" href="vocList_8c.html#f24b90be778084df7a1918c0b8b33d45" title="Create a new linked ist.">vll_init</a> (<span class="keywordtype">long</span> req_size);
<a name="l00437"></a>00437 <span class="keywordtype">long</span>   <a class="code" href="vocList_8c.html#ab00ac30bf145825e84a22bb55754ad3" title="Get the current size of the list.">vll_count</a> (vocList_t *list);
<a name="l00438"></a>00438 <span class="keywordtype">void</span>  *<a class="code" href="vocList_8c.html#a9876d2307012b54e4b534e74e7593b9" title="Seek to the indicated position in the list.">vll_seek</a> (vocList_t *list, <span class="keywordtype">long</span> offset, <span class="keywordtype">int</span> whence);
<a name="l00439"></a>00439 <span class="keywordtype">void</span>  *vll_find (vocList_t *list, <span class="keywordtype">void</span> *obj, <span class="keywordtype">long</span> *index);
<a name="l00440"></a>00440 <span class="keywordtype">void</span>  *<a class="code" href="vocList_8c.html#94da8f1a5cf17ebf3c3e13aab340ddb6" title="Get the previous element in the list.">vll_prev</a> (vocList_t *list);
<a name="l00441"></a>00441 <span class="keywordtype">void</span>  *<a class="code" href="vocList_8c.html#26a1a38a174db6cd9d5903dad23cfcb8" title="Get the next element in the list.">vll_next</a> (vocList_t *list);
<a name="l00442"></a>00442 <span class="keywordtype">void</span>  *vll_insert (vocList_t *list, <span class="keywordtype">void</span> *obj, <span class="keywordtype">long</span> *index);
<a name="l00443"></a>00443 <span class="keywordtype">void</span>  *vll_append (vocList_t *list, <span class="keywordtype">void</span> *obj, <span class="keywordtype">long</span> *index);
<a name="l00444"></a>00444 <span class="keywordtype">void</span>  *<a class="code" href="vocList_8c.html#72b0563b0c8c56ed8677410860b41b47" title="Remove a node from the list.">vll_remove</a> (vocList_t *list, <span class="keywordtype">long</span> req_pos);
<a name="l00445"></a>00445 <span class="keywordtype">void</span>   <a class="code" href="vocList_8c.html#b10af1f0b19cb9493368bffe4a1f735b" title="Destroy the List object and free resources.">vll_destroy</a> (vocList_t *list, <span class="keywordtype">void</span>  (*func) (<span class="keywordtype">void</span> *ptr));
<a name="l00446"></a>00446 <span class="keywordtype">int</span>    <a class="code" href="vocList_8c.html#28e9778710835857c95b41cd83db5213" title="Rebuild the array index.">vll_rebuild_index</a> (vocList_t *list, <span class="keywordtype">int</span> req_size);
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 <span class="comment">/* vutUtil.c */</span>
<a name="l00449"></a>00449 <span class="keywordtype">void</span>  *vut_urlOpen (<span class="keywordtype">char</span> *baseURL, <span class="keywordtype">char</span> *resource);
<a name="l00450"></a>00450 <span class="keywordtype">void</span>   vut_urlAddParam (<span class="keywordtype">void</span> *urlBuilder, <span class="keywordtype">char</span> *param, <span class="keywordtype">char</span> *valstr);
<a name="l00451"></a>00451 <span class="keywordtype">char</span>  *vut_urlGetString (<span class="keywordtype">void</span> *urlBuilder);
<a name="l00452"></a>00452 <span class="keywordtype">void</span>   vut_urlClose (<span class="keywordtype">void</span> *urlBuilder);
<a name="l00453"></a>00453 <span class="keywordtype">int</span>    vut_getURLtoFile (dalConn_t *dal, <span class="keywordtype">char</span> *url, <span class="keywordtype">char</span> *fname);
<a name="l00454"></a>00454 <span class="keywordtype">char</span>  *vut_getURL (dalConn_t *dal, <span class="keywordtype">char</span> *url);
<a name="l00455"></a>00455 <span class="keywordtype">char</span>  *vut_setString (<span class="keywordtype">char</span> *out, <span class="keywordtype">char</span> *in, <span class="keywordtype">int</span> size);
<a name="l00456"></a>00456 <span class="keywordtype">void</span>  *vut_cmemInit (<span class="keywordtype">void</span>);
<a name="l00457"></a>00457 <span class="keywordtype">void</span>   vut_cmemDestroy (<span class="keywordtype">void</span> *cmem);
<a name="l00458"></a>00458 <span class="keywordtype">char</span>  *vut_cmemCopy (<span class="keywordtype">void</span> *cmem, <span class="keywordtype">char</span> *str);
<a name="l00459"></a>00459 <span class="keywordtype">char</span>  *vut_votableToDelimited (<span class="keywordtype">char</span> *votable, <span class="keywordtype">char</span> delim);
<a name="l00460"></a>00460 
<a name="l00461"></a>00461 <span class="preprocessor">#endif</span>
<a name="l00462"></a>00462 <span class="preprocessor"></span>
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00465"></a>00465 <span class="preprocessor"></span>}
<a name="l00466"></a>00466 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 23 09:21:35 2014 for DAL Client Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
