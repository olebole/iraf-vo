<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DAL Client Library: dalQResp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>dalQResp.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;ctype.h&gt;</code><br>
<code>#include &lt;float.h&gt;</code><br>
<code>#include &lt;sys/file.h&gt;</code><br>
<code>#include &lt;curl/curl.h&gt;</code><br>
<code>#include &quot;dalclient.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8639526c24945794e60d93ef9a0df417"></a><!-- doxytag: member="dalQResp.c::dal_getRecordCount" ref="8639526c24945794e60d93ef9a0df417" args="(QResponse qr_h)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getRecordCount</b> (QResponse qr_h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="31421e01c49af5433950de03ca6ae957"></a><!-- doxytag: member="dalQResp.c::dal_getColumnCount" ref="31421e01c49af5433950de03ca6ae957" args="(QResponse qr_h)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getColumnCount</b> (QResponse qr_h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="04bfa323cf08ec2ab346ceaba669fc2b"></a><!-- doxytag: member="dalQResp.c::dal_getInfoCount" ref="04bfa323cf08ec2ab346ceaba669fc2b" args="(QResponse qr_h)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getInfoCount</b> (QResponse qr_h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e846287198f831a3676b12e3af61bcca"></a><!-- doxytag: member="dalQResp.c::dal_getFieldCount" ref="e846287198f831a3676b12e3af61bcca" args="(QResponse qr_h)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getFieldCount</b> (QResponse qr_h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="58d5a210d9a7342e4d4a064153778ef8"></a><!-- doxytag: member="dalQResp.c::dal_getPropCount" ref="58d5a210d9a7342e4d4a064153778ef8" args="(QResponse qr_h)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getPropCount</b> (QResponse qr_h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="78d8f3223c748ebe18e24095e3f089a8"></a><!-- doxytag: member="dalQResp.c::dal_getPropName" ref="78d8f3223c748ebe18e24095e3f089a8" args="(QResponse qr_h, int index)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getPropName</b> (QResponse qr_h, int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a22044f1ad25b4ae5444f91cd797a2e9"></a><!-- doxytag: member="dalQResp.c::dal_getInfoAttr" ref="a22044f1ad25b4ae5444f91cd797a2e9" args="(QResponse qr_h, int index, int attr)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getInfoAttr</b> (QResponse qr_h, int index, int attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="523346fd5f1c10bf81d59b20d8d48368"></a><!-- doxytag: member="dalQResp.c::dal_getFieldAttr" ref="523346fd5f1c10bf81d59b20d8d48368" args="(QResponse qr_h, int index, int attr)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getFieldAttr</b> (QResponse qr_h, int index, int attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cac7a81e75acb3cf1f41b2f881255067"></a><!-- doxytag: member="dalQResp.c::dal_getFieldIndex" ref="cac7a81e75acb3cf1f41b2f881255067" args="(QResponse qr_h, char *key, int attr)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getFieldIndex</b> (QResponse qr_h, char *key, int attr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="08e251c5ecc80c2f64d6aaa3bac5eaed"></a><!-- doxytag: member="dalQResp.c::dal_getRecord" ref="08e251c5ecc80c2f64d6aaa3bac5eaed" args="(QResponse qr_h, int recnum)" -->
QRecord&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getRecord</b> (QResponse qr_h, int recnum)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1d3ae11225d27c30418401b97b3e985a"></a><!-- doxytag: member="dalQResp.c::dal_releaseRecord" ref="1d3ae11225d27c30418401b97b3e985a" args="(QRecord rec_h)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_releaseRecord</b> (QRecord rec_h)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6bf36ac98595e17bc64e4e645e75685a"></a><!-- doxytag: member="dalQResp.c::dal_getIntProperty" ref="6bf36ac98595e17bc64e4e645e75685a" args="(QRecord rec_h, char *property)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getIntProperty</b> (QRecord rec_h, char *property)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="df1f8b00047bcebd08454f454fb29217"></a><!-- doxytag: member="dalQResp.c::dal_getFloatProperty" ref="df1f8b00047bcebd08454f454fb29217" args="(QRecord rec_h, char *property)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getFloatProperty</b> (QRecord rec_h, char *property)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="452a583e3b641e6a77aafed3a07b4e1d"></a><!-- doxytag: member="dalQResp.c::dal_getStringProperty" ref="452a583e3b641e6a77aafed3a07b4e1d" args="(QRecord rec_h, char *property)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getStringProperty</b> (QRecord rec_h, char *property)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e1dc82e0f03dc003a9ec1ea729a8dff8"></a><!-- doxytag: member="dalQResp.c::dal_getIntField" ref="e1dc82e0f03dc003a9ec1ea729a8dff8" args="(QRecord rec_h, int index)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getIntField</b> (QRecord rec_h, int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9d7703b1f6bf010c464cb342705eef53"></a><!-- doxytag: member="dalQResp.c::dal_getFloatField" ref="9d7703b1f6bf010c464cb342705eef53" args="(QRecord rec_h, int index)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getFloatField</b> (QRecord rec_h, int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9f82f2d0d94d42534fb2e561c7cf16e3"></a><!-- doxytag: member="dalQResp.c::dal_getStringField" ref="9f82f2d0d94d42534fb2e561c7cf16e3" args="(QRecord rec_h, int index)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getStringField</b> (QRecord rec_h, int index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="33045b4a0f01d32b7abeb4b95d305509"></a><!-- doxytag: member="dalQResp.c::dal_getIntColumn" ref="33045b4a0f01d32b7abeb4b95d305509" args="(QResponse qr_h, int index, long *iptr)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getIntColumn</b> (QResponse qr_h, int index, long *iptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1293a6b46682cb8a4709c75ab1c89c0f"></a><!-- doxytag: member="dalQResp.c::dal_getFloatColumn" ref="1293a6b46682cb8a4709c75ab1c89c0f" args="(QResponse qr_h, int index, double *dptr)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getFloatColumn</b> (QResponse qr_h, int index, double *dptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2733ae1e65fc714bd64d625617de239a"></a><!-- doxytag: member="dalQResp.c::dal_getStringColumn" ref="2733ae1e65fc714bd64d625617de239a" args="(QResponse qr_h, int index, char **sptr)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getStringColumn</b> (QResponse qr_h, int index, char **sptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8f7d66f725e504bd279cbf4d792078f9"></a><!-- doxytag: member="dalQResp.c::dal_getDataset" ref="8f7d66f725e504bd279cbf4d792078f9" args="(QRecord rec_h, char *acref, char *fname)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>dal_getDataset</b> (QRecord rec_h, char *acref, char *fname)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b304c60204e9fc9d2f7bfd752a9ca3e3"></a><!-- doxytag: member="dalQResp.c::vut_addProperty" ref="b304c60204e9fc9d2f7bfd752a9ca3e3" args="(dalQR_t *qr, char *propname, char *value, int type)" -->
dalProp_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>vut_addProperty</b> (dalQR_t *qr, char *propname, char *value, int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7bc0b9e7b5def64677728660d197c6fa"></a><!-- doxytag: member="dalQResp.c::vut_setProperty" ref="7bc0b9e7b5def64677728660d197c6fa" args="(QRecord rec_h, char *propname, char *value)" -->
dalProp_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>vut_setProperty</b> (QRecord rec_h, char *propname, char *value)</td></tr>

</table>
<hr><h2>Detailed Description</h2>
DALQRESPONSE -- Query Response Object for a DAL (or similar) query.<p>
The QueryResponse class is used to walk through or randomly access the processed response from a DAL (or similar VOTable-based) query.<p>
---- Query Execution ---------<p>
qr = dal_executeQuery (query) qr = dal_initQueryResponse (dal, votable, resource, table) (etc.)<p>
---- Query Response ---------<p>
int = dal_getRecordCount (qr) int = dal_getColumnCount (qr) int = dal_getInfoCount (qr) int = dal_getFieldCount (qr) int = dal_getPropCount (qr) str = dal_getPropName (qr, index) str = dal_getInfoAttr (qr, index, attr_code) str = dal_getFieldAttr (qr, index, attr_code) int = dal_getFieldIndex (qr, key, attr_code)<p>
rec = dal_getRecord (qr, recnum) dal_releaseRecord (rec) int = dal_getIntProperty (rec, property) dval = dal_getFloatProperty (rec, property) str = dal_getStringProperty (rec, property)<p>
int = dal_getIntField (rec, index) dval = dal_getFloatField (rec, index) str = dal_getStringField (rec, index)<p>
stat = dal_getIntColumn (qr, index, iptr) stat = dal_getFloatColumn (qr, index, dptr) stat = dal_getStringColumn (qr, index, sptr)<p>
stat = dal_getDataset (rec, acref, fname)<p>
The tables to be processed are often modest sized, but can potentially be very large, with tens of thousands of rows and hundreds of columns. All processing of the input VOTable is sequential, with one pass to parse the XML and a second to process the parsed table into a QueryResponse object. The QueryResponse object is stored in memory and is randomly accessible, fully indexed and hashed.<p>
While the intended use of this class is mainly to process the VOTable results from VO DAL or Registry queries, it may be used to walk through any VOTable, accessing table fields by index or by tag (ID, NAME, UTYPE, UCD, etc.). For example, this could be used to access data VOTables such as from a TAP or Cone Search query, or in some cases, VOTable-encoded data objects such as a Spectrum or ImageDM Data-element descriptor.<p>
This interface mostly treats VOTable FIELDs and PARAMs as the same type of object, although the specific object type can be queried at a lower level. For applications such as querying the attributes of a dataset described in a table row they are equivalent. Higher level object properties are also supported; these are abstract properties of the data model for the object stored in the table, and have the important characteristic of being represented consistently regardless of the representation (in terms of ID, NAME, UTYPE, UCD, etc.) in the lower level VOTable and service version.<p>
There is no explicit support here for VOTable mechanisms such as GROUP, hence for example UTYPES are assumed to be unique in a table (this is the case with current VO interfaces).<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Doug Tody </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd>January 2014 </dd></dl>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 23 09:21:35 2014 for DAL Client Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
